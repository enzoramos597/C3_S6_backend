<nav class="navbar">

    <!-- IZQUIERDA -->
    <div class="nav-left">
        <a href="/" class="nav-logo">ğŸ  Inicio</a>
    </div>

    <!-- CENTRO -->
    <div class="nav-center">

        <!-- DROPDOWN PELÃCULAS -->
        <div class="dropdown">
            <button class="dropbtn">ğŸ¬ PelÃ­culas â–¾</button>
            <div class="dropdown-content">
                <a href="/agregarPelicula">â• Agregar PelÃ­cula</a>
                <a href="/mostrarPelicula">ğŸ” Mostrar PelÃ­culas</a>
            </div>
        </div>

        <!-- DROPDOWN USUARIOS -->
        <div class="dropdown">
            <button class="dropbtn">ğŸ‘¤ Usuarios â–¾</button>
            <div class="dropdown-content">
                <a href="/agregarUsuario">â• Agregar Usuario</a>
                <a href="/mostrarUsuarios">ğŸ” Mostrar Usuarios</a>
            </div>
        </div>

        <!-- DROPDOWN ROLES -->
        <div class="dropdown">
            <button class="dropbtn">ğŸ§‘â€ğŸ’¼ Roles â–¾</button>
            <div class="dropdown-content">
                <a href="/agregarRole">â• Agregar Rol</a>
                <a href="/mostrarRoles">ğŸ” Mostrar Roles</a>
            </div>
        </div>

        <!-- DROPDOWN PERMISOS -->
        <div class="dropdown">
            <button class="dropbtn">ğŸ§© Permisos â–¾</button>
            <div class="dropdown-content">
                <a href="/agregarPermiso">â• Agregar Permiso</a>
                <a href="/mostrarPermiso">ğŸ” Mostrar Permisos</a>
            </div>
        </div>

    </div>

    <!-- DERECHA -->
    <div class="nav-right">
        <a href="/login" class="login-btn" id="btnLoginNavbar">
            ğŸ” <span id="textoLogin">Iniciar SesiÃ³n</span>
        </a>
    </div>

</nav>
<script>
    const token = localStorage.getItem("token");
    const user = JSON.parse(localStorage.getItem("user"));
    const textoLogin = document.getElementById("textoLogin");
    const btnLoginNavbar = document.getElementById("btnLoginNavbar");

    // Crear etiqueta del usuario
    const navRight = document.querySelector(".nav-right");

    if (token && user) {

        // Mostrar el nombre del usuario
        const userLabel = document.createElement("span");
        userLabel.textContent = `Hola, ${user.name}`;
        userLabel.className = "user-label";
        navRight.insertBefore(userLabel, btnLoginNavbar);

        // Cambiar botÃ³n
        textoLogin.textContent = "Cerrar SesiÃ³n";

        // Cerrar sesiÃ³n
        btnLoginNavbar.addEventListener("click", (e) => {
            e.preventDefault();

            localStorage.removeItem("token");
            localStorage.removeItem("user");

            window.location.href = "/";
        });
    }
</script>
